#!/usr/bin/env node
const _0x4c28e9=_0x4e19;(function(_0x1375ab,_0x27c69f){const _0x23a7bf=_0x4e19,_0x4c259f=_0x1375ab();while(!![]){try{const _0x5ee660=parseInt(_0x23a7bf(0x167))/0x1+-parseInt(_0x23a7bf(0x121))/0x2*(parseInt(_0x23a7bf(0x168))/0x3)+-parseInt(_0x23a7bf(0x15a))/0x4*(-parseInt(_0x23a7bf(0x14d))/0x5)+-parseInt(_0x23a7bf(0x124))/0x6*(parseInt(_0x23a7bf(0x144))/0x7)+-parseInt(_0x23a7bf(0x11c))/0x8*(-parseInt(_0x23a7bf(0x14f))/0x9)+-parseInt(_0x23a7bf(0x173))/0xa*(-parseInt(_0x23a7bf(0x108))/0xb)+parseInt(_0x23a7bf(0x171))/0xc;if(_0x5ee660===_0x27c69f)break;else _0x4c259f['push'](_0x4c259f['shift']());}catch(_0x20126a){_0x4c259f['push'](_0x4c259f['shift']());}}}(_0x1e2e,0xbf065));const _0x458630=(function(){const _0x981f62=_0x4e19,_0x1d1952={};_0x1d1952['CUsql']=function(_0x5e0ab8,_0x4596b9){return _0x5e0ab8!==_0x4596b9;},_0x1d1952[_0x981f62(0x143)]=_0x981f62(0x105);const _0x581506=_0x1d1952;let _0x9a34f6=!![];return function(_0x2f26d4,_0x3283d6){const _0x96b4d4=_0x9a34f6?function(){const _0x295677=_0x4e19;if(_0x3283d6){if(_0x581506['CUsql'](_0x581506[_0x295677(0x143)],_0x295677(0x165))){const _0xb5bed8=_0x3283d6[_0x295677(0x15b)](_0x2f26d4,arguments);return _0x3283d6=null,_0xb5bed8;}else{const _0x2d6b43=_0x565eea?function(){if(_0x3c44e2){const _0x58fa31=_0x1884bc['apply'](_0x4ab773,arguments);return _0x96e13c=null,_0x58fa31;}}:function(){};return _0x19866c=![],_0x2d6b43;}}}:function(){};return _0x9a34f6=![],_0x96b4d4;};}()),_0x115e98=_0x458630(this,function(){const _0x21977f=_0x4e19,_0x51693d={};_0x51693d[_0x21977f(0x158)]='(((.+)+)+)+$';const _0x3426ae=_0x51693d;return _0x115e98[_0x21977f(0x175)]()[_0x21977f(0x15d)](_0x3426ae[_0x21977f(0x158)])[_0x21977f(0x175)]()[_0x21977f(0x13b)](_0x115e98)[_0x21977f(0x15d)](_0x21977f(0x17d));});_0x115e98();function _0x4e19(_0x65b70b,_0x1d5f52){_0x65b70b=_0x65b70b-0x103;const _0xe8fc79=_0x1e2e();let _0x115e98=_0xe8fc79[_0x65b70b];return _0x115e98;}var u=(_0x564f14=>typeof require<'u'?require:typeof Proxy<'u'?new Proxy(_0x564f14,{'get':(_0x8b9842,_0x31fae5)=>(typeof require<'u'?require:_0x8b9842)[_0x31fae5]}):_0x564f14)(function(_0x59cc2c){const _0x16fd95=_0x4e19,_0x33c4d1={'vhlzm':function(_0x1d6379,_0xa883c4){return _0x1d6379<_0xa883c4;},'Fombj':function(_0x38b32d,_0x5d52c3){return _0x38b32d(_0x5d52c3);},'yssqS':function(_0x3742cc,_0x31dbfc){return _0x3742cc+_0x31dbfc;},'Mlkxy':'Dynamic\x20require\x20of\x20\x22'};if(_0x33c4d1[_0x16fd95(0x136)](typeof require,'u'))return require[_0x16fd95(0x15b)](this,arguments);throw _0x33c4d1[_0x16fd95(0x106)](Error,_0x33c4d1[_0x16fd95(0x135)](_0x33c4d1[_0x16fd95(0x135)](_0x33c4d1[_0x16fd95(0x16a)],_0x59cc2c),'\x22\x20is\x20not\x20supported'));}),{execSync:s}=u(_0x4c28e9(0x14c)),c=u('fs'),g=u('path'),l=process['argv'][_0x4c28e9(0x15e)](0x2),p='.claude/ACTIVE-PLAN';c[_0x4c28e9(0x162)](p)||(console['error'](_0x4c28e9(0x11e)),console['error'](_0x4c28e9(0x120)),process[_0x4c28e9(0x118)](0x1));function _0x1e2e(){const _0x29d8f1=['task','5.\x20Pushing\x20to\x20remote...\x0a','stdio','existsSync','git\x20push\x20origin\x20','\x0aðŸ”€\x20Merge\x20to\x20Main:\x20','JhpWF','main','227803tTOBPO','3766359AhmkKd','âš ï¸\x20\x20WARNING:\x20Could\x20not\x20detect\x20main\x20branch,\x20using\x20\x22main\x22\x0a','Mlkxy','\x20\x20âœ…\x20','To\x20start\x20next\x20task:\x20npm\x20run\x20task:start\x20TASK-XXX\x0a','taskFiles','forEach','\x20has\x20incomplete\x20tasks:\x0a','âŒ\x20ERROR:\x20No\x20tasks\x20found\x20in\x20phase:\x20','15401532JInycW','replace','310ICNghD','\x20\x20\x20Merging:\x20','toString','\x20branch...','warn','6.\x20Cleaning\x20up\x20merged\x20branches...\x0a','\x0a4.\x20Merging\x20task\x20branch(es)...\x0a','completed','git\x20push\x20origin\x20--delete\x20','trim','(((.+)+)+)+$','filter','\x20\x202.\x20git\x20add\x20<resolved-files>','map','inherit','qYMkP','Fombj','\x20not\x20found','156486jfuzZC','TASK-TRACKER.json','length','log','encoding','push','\x0aComplete\x20all\x20tasks\x20in\x20phase\x20before\x20merging.\x0a','.json','\x20is\x20not\x20completed\x20(status:\x20','git\x20merge\x20--no-ff\x20','\x0aâŒ\x20ERROR:\x20Phase\x20name\x20required','phase','join','\x20\x20\x20âš ï¸\x20\x20WARNING:\x20Branch\x20','Complete\x20task\x20first:\x20npm\x20run\x20task:done\x20','\x0aResolve\x20conflicts\x20manually:','exit','AZcEm','âŒ\x20ERROR:\x20You\x20have\x20uncommitted\x20changes\x0a','git\x20branch','32QIJnzj','\x0aCommit\x20all\x20changes\x20before\x20merging:','\x0aâŒ\x20ERROR:\x20No\x20active\x20plan\x20found','task/','Set\x20active\x20plan\x20first:\x20npm\x20run\x20plan:manager\x0a','2LomNaG','tasks','--phase','518820RiuKYe','âŒ\x20ERROR:\x20Task\x20','âš ï¸\x20\x20WARNING:\x20Could\x20not\x20pull\x20from\x20remote\x20(continuing\x20anyway)','\x20completed\x20task(s)\x20to\x20merge:\x0a','Current\x20branch:\x20','EUuRa','\x20\x20\x20âœ…\x20Merged\x20','\x20not\x20found\x20(may\x20not\x20have\x20been\x20pushed)','includes','Phase','âŒ\x20ERROR:\x20Task\x20file\x20not\x20found:\x20','utf8','git\x20branch\x20-d\x20','\x0aâŒ\x20ERROR:\x20Could\x20not\x20checkout\x20','git\x20pull\x20origin\x20','error','ðŸ”„\x20Starting\x20merge\x20process...\x0a','yssqS','vhlzm','\x0aâŒ\x20ERROR:\x20Task\x20ID\x20required','toLowerCase','status','\x20\x20\x20ðŸ—‘ï¸\x20\x20Deleted\x20remote\x20branch:\x20','constructor','\x0aâŒ\x20ERROR:\x20Could\x20not\x20push\x20to\x20remote','\x20\x20\x20Or:\x20npm\x20run\x20task:merge\x20--\x20--phase\x20PHASE-NAME\x0a','readFileSync','.claude/plans','\x20not\x20found,\x20skipping','substring','âš ï¸\x20\x20WARNING:\x20Could\x20not\x20check\x20git\x20status\x0a','HqbUR','98XQvbmU','master','Task','git\x20branch\x20-a','Push\x20manually:\x20git\x20push\x20origin\x20','\x20\x20\x20âš ï¸\x20\x20Could\x20not\x20delete\x20branch\x20','\x0aâœ…\x20MERGE\x20COMPLETE!\x0a','Plan:\x20','child_process','30QfSocH','Found\x20','476919EYLqwH','\x20\x20\x20âš ï¸\x20\x20Remote\x20branch\x20','title','\x20\x201.\x20Fix\x20conflicts\x20in\x20files','git\x20status\x20--porcelain','\x20\x20git\x20commit\x20-m\x20\x22[TASK-XXX]\x20Description\x22\x0a','git\x20checkout\x20','pipe','âš ï¸\x20\x20WARNING:\x20Could\x20not\x20fetch\x20from\x20remote\x20(continuing\x20anyway)','igaTR','\x20\x204.\x20Continue\x20with:\x20npm\x20run\x20task:merge\x20','722824GoutZp','apply','\x20task(s)\x20to\x20','search','slice'];_0x1e2e=function(){return _0x29d8f1;};return _0x1e2e();}var f=c[_0x4c28e9(0x13e)](p,_0x4c28e9(0x12f))[_0x4c28e9(0x17c)](),h=g['join'](_0x4c28e9(0x13f),f),R=g[_0x4c28e9(0x114)](h,_0x4c28e9(0x109));c[_0x4c28e9(0x162)](R)||(console[_0x4c28e9(0x133)]('\x0aâŒ\x20ERROR:\x20Task\x20tracker\x20not\x20found'),console[_0x4c28e9(0x133)](_0x4c28e9(0x14b)+f),process['exit'](0x1));var m=JSON['parse'](c[_0x4c28e9(0x13e)](R,'utf8')),d=_0x4c28e9(0x15f),r=null;l[0x0]===_0x4c28e9(0x123)?(d='phase',r=l[0x1],r||(console[_0x4c28e9(0x133)](_0x4c28e9(0x112)),console[_0x4c28e9(0x133)]('Usage:\x20npm\x20run\x20task:merge\x20--\x20--phase\x20PHASE-NAME\x0a'),process['exit'](0x1))):(r=l[0x0],r||(console[_0x4c28e9(0x133)](_0x4c28e9(0x137)),console[_0x4c28e9(0x133)]('Usage:\x20npm\x20run\x20task:merge\x20TASK-001'),console['error'](_0x4c28e9(0x13d)),process[_0x4c28e9(0x118)](0x1))),console[_0x4c28e9(0x10b)](_0x4c28e9(0x164)+(d===_0x4c28e9(0x113)?_0x4c28e9(0x12d):_0x4c28e9(0x146))+'\x20'+r+'\x0a');var i=[];if(d===_0x4c28e9(0x15f)){m[_0x4c28e9(0x16d)]['find'](_0x2d7000=>_0x2d7000['id']===r)||(console['error'](_0x4c28e9(0x125)+r+_0x4c28e9(0x107)),process[_0x4c28e9(0x118)](0x1));let n=g['join'](h,_0x4c28e9(0x122),r+'.json');c[_0x4c28e9(0x162)](n)||(console['error'](_0x4c28e9(0x12e)+n),process[_0x4c28e9(0x118)](0x1));let o=JSON['parse'](c[_0x4c28e9(0x13e)](n,_0x4c28e9(0x12f)));o[_0x4c28e9(0x139)]!==_0x4c28e9(0x17a)&&(console[_0x4c28e9(0x133)]('âŒ\x20ERROR:\x20Task\x20'+r+_0x4c28e9(0x110)+o[_0x4c28e9(0x139)]+')'),console['error'](_0x4c28e9(0x116)+r),process['exit'](0x1)),i[_0x4c28e9(0x10d)](o);}else{let e=m['taskFiles'][_0x4c28e9(0x103)](_0x51c943=>{const _0x1cb1f9=_0x4c28e9,_0x2a5781={};_0x2a5781[_0x1cb1f9(0x119)]='tasks',_0x2a5781['EUuRa']=_0x1cb1f9(0x12f);const _0x54e925=_0x2a5781;let _0x1fa2fe=g[_0x1cb1f9(0x114)](h,_0x54e925[_0x1cb1f9(0x119)],_0x51c943['id']+_0x1cb1f9(0x10f));return c[_0x1cb1f9(0x162)](_0x1fa2fe)?JSON['parse'](c[_0x1cb1f9(0x13e)](_0x1fa2fe,_0x54e925[_0x1cb1f9(0x129)])):null;})[_0x4c28e9(0x17e)](_0x5240b2=>_0x5240b2!==null&&_0x5240b2[_0x4c28e9(0x113)]===r);e[_0x4c28e9(0x10a)]===0x0&&(console[_0x4c28e9(0x133)](_0x4c28e9(0x170)+r),process[_0x4c28e9(0x118)](0x1));let n=e[_0x4c28e9(0x17e)](_0x4e149b=>_0x4e149b[_0x4c28e9(0x139)]!=='completed');n[_0x4c28e9(0x10a)]>0x0&&(console['error']('âŒ\x20ERROR:\x20Phase\x20'+r+_0x4c28e9(0x16f)),n['forEach'](_0x2f0b0d=>{const _0x538a56=_0x4c28e9;console[_0x538a56(0x133)]('\x20\x20'+_0x2f0b0d['id']+':\x20'+_0x2f0b0d[_0x538a56(0x151)]+'\x20('+_0x2f0b0d[_0x538a56(0x139)]+')');}),console[_0x4c28e9(0x133)](_0x4c28e9(0x10e)),process[_0x4c28e9(0x118)](0x1)),i=e['filter'](_0x10effa=>_0x10effa[_0x4c28e9(0x139)]==='completed');}console['log'](_0x4c28e9(0x14e)+i[_0x4c28e9(0x10a)]+_0x4c28e9(0x127)),i[_0x4c28e9(0x16e)](_0x492642=>{const _0x240897=_0x4c28e9;console[_0x240897(0x10b)](_0x240897(0x16b)+_0x492642['id']+':\x20'+_0x492642[_0x240897(0x151)]);}),console[_0x4c28e9(0x10b)]('');try{const _0x21f1b4={};_0x21f1b4[_0x4c28e9(0x10c)]='utf8';let e=s('git\x20branch\x20--show-current',_0x21f1b4)[_0x4c28e9(0x17c)]();(e==='main'||e==='master')&&(console[_0x4c28e9(0x133)]('âŒ\x20ERROR:\x20Already\x20on\x20main\x20branch'),console[_0x4c28e9(0x133)]('Checkout\x20a\x20task\x20branch\x20first\x0a'),process[_0x4c28e9(0x118)](0x1)),console[_0x4c28e9(0x10b)](_0x4c28e9(0x128)+e+'\x0a');}catch{console[_0x4c28e9(0x133)]('âŒ\x20ERROR:\x20Could\x20not\x20get\x20current\x20branch'),console[_0x4c28e9(0x133)]('Are\x20you\x20in\x20a\x20git\x20repository?\x0a'),process[_0x4c28e9(0x118)](0x1);}try{const _0x5c8e5a={};_0x5c8e5a[_0x4c28e9(0x10c)]=_0x4c28e9(0x12f);let e=s(_0x4c28e9(0x153),_0x5c8e5a);e[_0x4c28e9(0x17c)]()&&(console[_0x4c28e9(0x133)](_0x4c28e9(0x11a)),console[_0x4c28e9(0x133)]('Uncommitted\x20files:'),console[_0x4c28e9(0x133)](e),console[_0x4c28e9(0x133)](_0x4c28e9(0x11d)),console[_0x4c28e9(0x133)]('\x20\x20git\x20add\x20.'),console[_0x4c28e9(0x133)](_0x4c28e9(0x154)),process[_0x4c28e9(0x118)](0x1));}catch{console['warn'](_0x4c28e9(0x142));}var t=_0x4c28e9(0x166);try{const _0x3a03ca={};_0x3a03ca[_0x4c28e9(0x10c)]=_0x4c28e9(0x12f);let e=s(_0x4c28e9(0x147),_0x3a03ca);e[_0x4c28e9(0x12c)](_0x4c28e9(0x145))&&!e[_0x4c28e9(0x12c)](_0x4c28e9(0x166))&&(t=_0x4c28e9(0x145));}catch{console[_0x4c28e9(0x177)](_0x4c28e9(0x169));}console[_0x4c28e9(0x10b)](_0x4c28e9(0x134)),console[_0x4c28e9(0x10b)]('1.\x20Fetching\x20latest\x20changes\x20from\x20remote...');try{const _0x5b8602={};_0x5b8602[_0x4c28e9(0x161)]=_0x4c28e9(0x104),s('git\x20fetch\x20origin',_0x5b8602);}catch{console[_0x4c28e9(0x177)](_0x4c28e9(0x157));}console[_0x4c28e9(0x10b)]('\x0a2.\x20Checking\x20out\x20'+t+_0x4c28e9(0x176));try{const _0x31dfcc={};_0x31dfcc[_0x4c28e9(0x161)]=_0x4c28e9(0x104),s(_0x4c28e9(0x155)+t,_0x31dfcc);}catch{console[_0x4c28e9(0x133)](_0x4c28e9(0x131)+t),process[_0x4c28e9(0x118)](0x1);}console[_0x4c28e9(0x10b)]('\x0a3.\x20Pulling\x20latest\x20'+t+'...');try{const _0x34e31e={};_0x34e31e[_0x4c28e9(0x161)]=_0x4c28e9(0x104),s(_0x4c28e9(0x132)+t,_0x34e31e);}catch{console['warn'](_0x4c28e9(0x126));}console[_0x4c28e9(0x10b)](_0x4c28e9(0x179));for(let e of i){let n=_0x4c28e9(0x11f)+e['id']+'-'+e['title'][_0x4c28e9(0x138)]()[_0x4c28e9(0x172)](/\s+/g,'-')[_0x4c28e9(0x141)](0x0,0x1e);console[_0x4c28e9(0x10b)](_0x4c28e9(0x174)+n);try{const _0x559867={};_0x559867[_0x4c28e9(0x10c)]=_0x4c28e9(0x12f);if(!s(_0x4c28e9(0x11b),_0x559867)['includes'](n)){console[_0x4c28e9(0x177)](_0x4c28e9(0x115)+n+_0x4c28e9(0x140));continue;}const _0x1e5f41={};_0x1e5f41[_0x4c28e9(0x161)]=_0x4c28e9(0x104),(s(_0x4c28e9(0x111)+n+'\x20-m\x20\x22Merge\x20'+e['id']+':\x20'+e[_0x4c28e9(0x151)]+'\x22',_0x1e5f41),console[_0x4c28e9(0x10b)](_0x4c28e9(0x12a)+e['id']+'\x0a'));}catch{console[_0x4c28e9(0x133)]('\x0aâŒ\x20ERROR:\x20Merge\x20conflict\x20or\x20error\x20merging\x20'+e['id']),console['error'](_0x4c28e9(0x117)),console[_0x4c28e9(0x133)](_0x4c28e9(0x152)),console[_0x4c28e9(0x133)](_0x4c28e9(0x17f)),console[_0x4c28e9(0x133)]('\x20\x203.\x20git\x20commit'),console['error'](_0x4c28e9(0x159)+l[_0x4c28e9(0x114)]('\x20')+'\x0a'),process['exit'](0x1);}}console[_0x4c28e9(0x10b)](_0x4c28e9(0x160));try{const _0x52eae6={};_0x52eae6['stdio']='inherit',(s(_0x4c28e9(0x163)+t,_0x52eae6),console[_0x4c28e9(0x10b)]('\x0aâœ…\x20Successfully\x20pushed\x20to\x20remote\x0a'));}catch{console['error'](_0x4c28e9(0x13c)),console['error'](_0x4c28e9(0x148)+t+'\x0a'),process[_0x4c28e9(0x118)](0x1);}console[_0x4c28e9(0x10b)](_0x4c28e9(0x178));for(let e of i){let n='task/'+e['id']+'-'+e[_0x4c28e9(0x151)][_0x4c28e9(0x138)]()[_0x4c28e9(0x172)](/\s+/g,'-')['substring'](0x0,0x1e);try{const _0x26e66c={};_0x26e66c[_0x4c28e9(0x10c)]=_0x4c28e9(0x12f);if(s(_0x4c28e9(0x11b),_0x26e66c)[_0x4c28e9(0x12c)](n)){const _0xed57d4={};_0xed57d4[_0x4c28e9(0x10c)]=_0x4c28e9(0x12f),(s(_0x4c28e9(0x130)+n,_0xed57d4),console[_0x4c28e9(0x10b)]('\x20\x20\x20ðŸ—‘ï¸\x20\x20Deleted\x20local\x20branch:\x20'+n));try{const _0x12c6c6={};_0x12c6c6['stdio']=_0x4c28e9(0x156),(s(_0x4c28e9(0x17b)+n,_0x12c6c6),console[_0x4c28e9(0x10b)](_0x4c28e9(0x13a)+n));}catch{console[_0x4c28e9(0x10b)](_0x4c28e9(0x150)+n+_0x4c28e9(0x12b));}}}catch{console[_0x4c28e9(0x177)](_0x4c28e9(0x149)+n);}}console[_0x4c28e9(0x10b)](_0x4c28e9(0x14a)),console['log']('Merged\x20'+i[_0x4c28e9(0x10a)]+_0x4c28e9(0x15c)+t+':'),i['forEach'](_0x581798=>{const _0x4f34ff=_0x4c28e9;console[_0x4f34ff(0x10b)](_0x4f34ff(0x16b)+_0x581798['id']+':\x20'+_0x581798[_0x4f34ff(0x151)]);}),console[_0x4c28e9(0x10b)]('\x0aYou\x20are\x20now\x20on\x20'+t+'\x20branch.'),console[_0x4c28e9(0x10b)](_0x4c28e9(0x16c)),process[_0x4c28e9(0x118)](0x0);