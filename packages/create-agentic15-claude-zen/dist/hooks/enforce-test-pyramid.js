#!/usr/bin/env node
const _0x191883=_0x4423;(function(_0x5d7045,_0x380ba){const _0x3f0546=_0x4423,_0x5cc828=_0x5d7045();while(!![]){try{const _0x7b66a=parseInt(_0x3f0546(0x14a))/0x1*(-parseInt(_0x3f0546(0x126))/0x2)+parseInt(_0x3f0546(0x12e))/0x3+parseInt(_0x3f0546(0x14b))/0x4*(-parseInt(_0x3f0546(0x130))/0x5)+-parseInt(_0x3f0546(0x144))/0x6*(parseInt(_0x3f0546(0x148))/0x7)+-parseInt(_0x3f0546(0x14e))/0x8*(-parseInt(_0x3f0546(0x122))/0x9)+parseInt(_0x3f0546(0x117))/0xa+parseInt(_0x3f0546(0x129))/0xb;if(_0x7b66a===_0x380ba)break;else _0x5cc828['push'](_0x5cc828['shift']());}catch(_0x75ec5b){_0x5cc828['push'](_0x5cc828['shift']());}}}(_0x8676,0xe002b));const _0x332525=(function(){const _0x3d7be2=_0x4423,_0x4fdaac={};_0x4fdaac[_0x3d7be2(0x11c)]=function(_0xc53d4f,_0x260247){return _0xc53d4f===_0x260247;},_0x4fdaac[_0x3d7be2(0x146)]='bSfck';const _0x3fe8ca=_0x4fdaac;let _0x11b3d3=!![];return function(_0x341958,_0x2c56a3){const _0x5ef2f3=_0x11b3d3?function(){const _0x93806f=_0x4423;if(_0x2c56a3){if(_0x3fe8ca[_0x93806f(0x11c)](_0x3fe8ca[_0x93806f(0x146)],_0x93806f(0x13f))){const _0x409006=_0xb14ad9?function(){const _0x176c8b=_0x93806f;if(_0x4b3f38){const _0x298cad=_0x4cd708[_0x176c8b(0x143)](_0x15b603,arguments);return _0x749373=null,_0x298cad;}}:function(){};return _0x436388=![],_0x409006;}else{const _0x449048=_0x2c56a3[_0x93806f(0x143)](_0x341958,arguments);return _0x2c56a3=null,_0x449048;}}}:function(){};return _0x11b3d3=![],_0x5ef2f3;};}()),_0x3fc2ec=_0x332525(this,function(){const _0x3b5b22=_0x4423,_0x233ea0={};_0x233ea0[_0x3b5b22(0x13a)]=_0x3b5b22(0x11e);const _0x8a8ff5=_0x233ea0;return _0x3fc2ec[_0x3b5b22(0x110)]()[_0x3b5b22(0x12f)](_0x8a8ff5[_0x3b5b22(0x13a)])[_0x3b5b22(0x110)]()[_0x3b5b22(0x141)](_0x3fc2ec)[_0x3b5b22(0x12f)](_0x8a8ff5['fJUXk']);});_0x3fc2ec();var g=(_0x43848f=>typeof require<'u'?require:typeof Proxy<'u'?new Proxy(_0x43848f,{'get':(_0x3ae6de,_0x2bb514)=>(typeof require<'u'?require:_0x3ae6de)[_0x2bb514]}):_0x43848f)(function(_0x5942fe){const _0x539947=_0x4423,_0x4e32a2={};_0x4e32a2[_0x539947(0x149)]=function(_0x3202a6,_0x49d614){return _0x3202a6<_0x49d614;},_0x4e32a2[_0x539947(0x11b)]=_0x539947(0x147);const _0x3b17d3=_0x4e32a2;if(_0x3b17d3[_0x539947(0x149)](typeof require,'u'))return require['apply'](this,arguments);throw Error(_0x3b17d3[_0x539947(0x11b)]+_0x5942fe+'\x22\x20is\x20not\x20supported');}),c=g('fs'),E=g(_0x191883(0x116)),{execSync:f}=g('child_process'),h=process[_0x191883(0x115)][0x2]||'{}',I=JSON[_0x191883(0x13c)](h),T=I[_0x191883(0x11d)]?.[_0x191883(0x133)]||'';T[_0x191883(0x145)](/npm\s+(run\s+)?test|jest|vitest/)||process['exit'](0x0);var d=[],t=[],r=0x0,m=0x0,p=0x0,i=0x0;try{const _0x306f1c={};_0x306f1c['encoding']=_0x191883(0x118),_0x306f1c[_0x191883(0x13d)]=[_0x191883(0x12c),'pipe','ignore'];let e=f(_0x191883(0x125),_0x306f1c)['trim']()[_0x191883(0x14c)]('\x0a')['filter'](Boolean);for(let n of e)if(c[_0x191883(0x150)](n)){let o=c['readFileSync'](n,'utf8'),u=(o[_0x191883(0x145)](/\b(it|test)\s*\(/g)||[])[_0x191883(0x14d)];o[_0x191883(0x145)](/render\(|mount\(|screen\.|fireEvent\./)?i+=u:r+=u;}const _0x2ab6b4={};_0x2ab6b4['encoding']=_0x191883(0x118),_0x2ab6b4[_0x191883(0x13d)]=[_0x191883(0x12c),_0x191883(0x12c),_0x191883(0x121)];let l=f(_0x191883(0x128),_0x2ab6b4)['trim']()[_0x191883(0x14c)]('\x0a')[_0x191883(0x123)](Boolean);for(let n of l)if(c[_0x191883(0x150)](n)){let o=c['readFileSync'](n,_0x191883(0x118));m+=(o[_0x191883(0x145)](/\b(it|test)\s*\(/g)||[])[_0x191883(0x14d)];}const _0x1c2f71={};_0x1c2f71[_0x191883(0x140)]=_0x191883(0x118),_0x1c2f71[_0x191883(0x13d)]=[_0x191883(0x12c),_0x191883(0x12c),_0x191883(0x121)];let a=f(_0x191883(0x139),_0x1c2f71)[_0x191883(0x127)]()[_0x191883(0x14c)]('\x0a')[_0x191883(0x123)](Boolean);for(let n of a)if(c[_0x191883(0x150)](n)){let o=c[_0x191883(0x120)](n,_0x191883(0x118));p+=(o['match'](/\b(it|test)\s*\(/g)||[])['length'];}}catch{process[_0x191883(0x151)](0x0);}function _0x4423(_0x50b4c2,_0x77bb49){_0x50b4c2=_0x50b4c2-0x110;const _0x2282d7=_0x8676();let _0x3fc2ec=_0x2282d7[_0x50b4c2];return _0x3fc2ec;}var s=r+m+p+i;s===0x0&&(d[_0x191883(0x137)](_0x191883(0x135)),d[_0x191883(0x137)]('Create\x20tests\x20before\x20claiming\x20functionality\x20works'));function _0x8676(){const _0x4107cc=['search','70Wuqvlh','E2E\x20tests\x20are\x20slow\x20and\x20brittle,\x20use\x20integration\x20tests\x20instead','\x0aâš ï¸\x20\x20TEST\x20PYRAMID\x20WARNINGS\x0a','command','Every\x20UI\x20component\x20should\x20have\x20component\x20tests','BLOCKED:\x20No\x20tests\x20found\x20in\x20the\x20project','warn','push','WARNING:\x20Inverted\x20test\x20pyramid\x20detected','find\x20./e2e\x20-name\x20\x22*.spec.*\x22\x20-o\x20find\x20./cypress\x20-name\x20\x22*.cy.*\x22\x202>/dev/null\x20||\x20echo\x20\x22\x22','fJUXk','\x20\x20E2E\x20Tests:\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parse','stdio','UI\x20bugs\x20are\x20not\x20caught\x20by\x20API-only\x20tests!','onCmL','encoding','constructor','WARNING:\x20Multiple\x20UI\x20components\x20but\x20NO\x20E2E\x20integration\x20tests','apply','137118gPGBgz','match','fXCmy','Dynamic\x20require\x20of\x20\x22','546EaZlNY','mdxEM','5672NqZgNO','189032ZsxHQz','split','length','160HVhOwo','\x20component\x20tests','existsSync','exit','log','toString','WARNING:\x20Too\x20many\x20E2E\x20tests\x20(>30%\x20of\x20total)','toFixed','find\x20./src\x20-name\x20\x22*.tsx\x22\x20-o\x20-name\x20\x22*.jsx\x22\x202>/dev/null\x20|\x20wc\x20-l','Unit/Component\x20tests\x20should\x20be\x2060-80%\x20of\x20total,\x20currently\x20','argv','path','12899260ntYAHZ','utf8','\x20UI\x20components\x20but\x20only\x20','\x20\x20Total:\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Qlxch','PzoDj','tool_input','(((.+)+)+)+$','forEach','readFileSync','ignore','680958pmZnIa','filter','CRITICAL:\x20UI\x20bugs\x20are\x20slipping\x20through!','find\x20./tests\x20-name\x20\x22*.test.*\x22\x20-o\x20-name\x20\x22*.spec.*\x22\x202>/dev/null\x20|\x20grep\x20-v\x20-E\x20\x22(integration|e2e|component)\x22\x20||\x20echo\x20\x22\x22','356hVyhGd','trim','find\x20./tests\x20-path\x20\x22*/integration/*\x22\x20-name\x20\x22*.test.*\x22\x20-o\x20-path\x20\x22*/integration/*\x22\x20-name\x20\x22*.spec.*\x22\x202>/dev/null\x20||\x20echo\x20\x22\x22','10251538UrdkPE','WARNING:\x20','error','pipe','Add\x20E2E\x20tests\x20to\x20validate\x20complete\x20user\x20flows','1908555rCGYgN'];_0x8676=function(){return _0x4107cc;};return _0x8676();}if(s>0x0){let e=(r+i)/s*0x64,l=m/s*0x64,a=p/s*0x64;console[_0x191883(0x152)]('\x0aðŸ“Š\x20TEST\x20PYRAMID\x20ANALYSIS\x0a'),console['log']('\x20\x20Unit/Component\x20Tests:\x20'+(r+i)+'\x20('+e[_0x191883(0x112)](0x1)+'%)'),console[_0x191883(0x152)]('\x20\x20Integration\x20Tests:\x20\x20\x20\x20'+m+'\x20('+l['toFixed'](0x1)+'%)'),console[_0x191883(0x152)](_0x191883(0x13b)+p+'\x20('+a[_0x191883(0x112)](0x1)+'%)'),console[_0x191883(0x152)](_0x191883(0x11a)+s+'\x0a'),i===0x0&&r>0x0&&(t[_0x191883(0x137)]('WARNING:\x20Only\x20backend\x20unit\x20tests\x20found,\x20NO\x20UI\x20component\x20tests'),t[_0x191883(0x137)]('Add\x20component\x20tests\x20for\x20React/Vue/etc.\x20components'),t['push'](_0x191883(0x13e))),r+i<s*0.5&&(t[_0x191883(0x137)](_0x191883(0x138)),t[_0x191883(0x137)](_0x191883(0x114)+e[_0x191883(0x112)](0x1)+'%'),t[_0x191883(0x137)]('Add\x20more\x20unit\x20and\x20component\x20tests')),p>s*0.3&&(t[_0x191883(0x137)](_0x191883(0x111)),t[_0x191883(0x137)](_0x191883(0x131)));try{const _0x29d324={};_0x29d324[_0x191883(0x140)]=_0x191883(0x118),_0x29d324[_0x191883(0x13d)]=[_0x191883(0x12c),_0x191883(0x12c),'ignore'];let n=f(_0x191883(0x113),_0x29d324)[_0x191883(0x127)](),o=parseInt(n)||0x0;if(o>0x0){let u=i/o;u<0.5&&(t['push'](_0x191883(0x12a)+o+_0x191883(0x119)+i+_0x191883(0x14f)),t[_0x191883(0x137)]('Component\x20test\x20coverage:\x20'+(u*0x64)[_0x191883(0x112)](0x1)+'%'),t['push'](_0x191883(0x124)),t[_0x191883(0x137)](_0x191883(0x134))),p===0x0&&o>0x5&&(t[_0x191883(0x137)](_0x191883(0x142)),t['push'](_0x191883(0x12d)));}}catch{}}d[_0x191883(0x14d)]>0x0&&(console[_0x191883(0x12b)]('\x0aâŒ\x20TEST\x20PYRAMID\x20VALIDATION\x20FAILED\x0a'),d['forEach'](_0x17ec0f=>console[_0x191883(0x12b)]('\x20\x20'+_0x17ec0f)),console[_0x191883(0x12b)]('\x0a'),process[_0x191883(0x151)](0x2)),t[_0x191883(0x14d)]>0x0&&(console[_0x191883(0x136)](_0x191883(0x132)),t[_0x191883(0x11f)](_0x5c905a=>console[_0x191883(0x136)]('\x20\x20'+_0x5c905a)),console['warn']('\x0a')),process['exit'](0x0);