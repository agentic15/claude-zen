#!/usr/bin/env node
const _0x3d1212=_0x4516;(function(_0x2749d3,_0x22f2a6){const _0x57be36=_0x4516,_0x6edc21=_0x2749d3();while(!![]){try{const _0x3a3983=-parseInt(_0x57be36(0x136))/0x1*(-parseInt(_0x57be36(0x14f))/0x2)+-parseInt(_0x57be36(0x12e))/0x3+parseInt(_0x57be36(0x175))/0x4*(-parseInt(_0x57be36(0x177))/0x5)+parseInt(_0x57be36(0x167))/0x6+parseInt(_0x57be36(0x133))/0x7+-parseInt(_0x57be36(0x16b))/0x8+-parseInt(_0x57be36(0x168))/0x9*(parseInt(_0x57be36(0x13c))/0xa);if(_0x3a3983===_0x22f2a6)break;else _0x6edc21['push'](_0x6edc21['shift']());}catch(_0x4f77ce){_0x6edc21['push'](_0x6edc21['shift']());}}}(_0x3176,0xf2f5a));var u=(_0x547c27=>typeof require<'u'?require:typeof Proxy<'u'?new Proxy(_0x547c27,{'get':(_0x3cf149,_0x1a127f)=>(typeof require<'u'?require:_0x3cf149)[_0x1a127f]}):_0x547c27)(function(_0x17ac31){const _0x530faf=_0x4516,_0x434051={};_0x434051[_0x530faf(0x158)]=function(_0x11d1f1,_0x2ab7e8){return _0x11d1f1<_0x2ab7e8;},_0x434051[_0x530faf(0x135)]=function(_0x58b708,_0x54c498){return _0x58b708+_0x54c498;},_0x434051['ASKAs']=_0x530faf(0x155),_0x434051[_0x530faf(0x13a)]='\x22\x20is\x20not\x20supported';const _0x56eb63=_0x434051;if(_0x56eb63['nVEOM'](typeof require,'u'))return require[_0x530faf(0x163)](this,arguments);throw Error(_0x56eb63[_0x530faf(0x135)](_0x56eb63[_0x530faf(0x131)]+_0x17ac31,_0x56eb63[_0x530faf(0x13a)]));}),f=u('fs'),p=u(_0x3d1212(0x145)),{execSync:g}=u(_0x3d1212(0x134)),T=process[_0x3d1212(0x13f)][0x2]||'{}',h=JSON['parse'](T),d=h[_0x3d1212(0x164)]?.[_0x3d1212(0x17a)]||'',e=h[_0x3d1212(0x144)]||'';d['match'](/npm\s+(run\s+)?test|jest|pytest|vitest|mocha|ava/)||process[_0x3d1212(0x174)](0x0);function _0x3176(){const _0x7c2f17=['--changedSince','WARNING:\x20Test\x20coverage\x20is\x20only\x20','forEach','existsSync','Dynamic\x20require\x20of\x20\x22','error','/Agent/src/','nVEOM','ms\x20per\x20test)','\x0aâœ…\x20No\x20test\x20files\x20changed\x20-\x20skipping\x20test\x20validation\x0a','BLOCKED:\x20Tests\x20are\x20FAILING','Remove\x20skip\x20markers\x20and\x20implement\x20the\x20tests','Test\x20files\x20may\x20be\x20empty\x20or\x20not\x20properly\x20configured','cwqln','TWVYR','env','aFJVx','\x0aâš ï¸\x20\x20TEST\x20EXECUTION\x20WARNINGS\x0a','apply','tool_input','constructor','map','5373168BKNiDi','17433OPsnze','\x20characters','relative','2689600WTGPib','pre-commit','split','replace','warn','Did\x20tests\x20actually\x20run?','basename','git\x20diff\x20--cached\x20--name-only\x20--diff-filter=ACMR','WARNING:\x20Test\x20output\x20mentions\x20mocks\x20but\x20no\x20passed\x20tests','exit','28948Kbvkfn','\x0aâŒ\x20TEST\x20EXECUTION\x20VALIDATION\x20FAILED\x0a','50bBQHPz','toFixed','Are\x20these\x20real\x20tests\x20or\x20just\x20empty\x20stubs?','command','\x0aðŸ’¡\x20TIP:\x20Run\x20\x22npm\x20test\x22\x20manually\x20to\x20run\x20full\x20test\x20suite\x0a','JJVts','toString','/src/','BLOCKED:\x20Test\x20command\x20ran\x20but\x20ZERO\x20tests\x20were\x20executed','Command:\x20','BLOCKED:\x20All\x20tests\x20were\x20skipped/marked\x20as\x20TODO','utf8','GKlPm','filter','4989165UheldW','SxNBU','log','ASKAs','Verify\x20snapshots\x20are\x20actually\x20correct,\x20not\x20just\x20auto-accepting\x20changes','13846938SbQiNZ','child_process','FPddy','343hOQEOk','OGtCA','ms\x20(','EXlAe','SXaaO','.test','710jguvtb','bFcMm','MKohH','argv','Fix\x20the\x20failing\x20tests\x20or\x20remove\x20broken\x20code','test','extname','match','tool_output','path','includes','push','All\x20tests\x20must\x20pass\x20before\x20committing','\x20files):','Are\x20you\x20running\x20actual\x20tests\x20or\x20just\x20loading\x20mocks?','Output\x20length:\x20','__tests__','length','cwd','1928RtYuNF','Consider\x20adding\x20more\x20tests\x20to\x20reach\x2070%+\x20coverage'];_0x3176=function(){return _0x7c2f17;};return _0x3176();}var a=[],o=[];function y(){const _0xb2f20b=_0x3d1212,_0x581463={'SxNBU':function(_0x5a9080,_0x4586ca,_0x2969b8){return _0x5a9080(_0x4586ca,_0x2969b8);},'aFJVx':_0xb2f20b(0x12b)};try{return _0x581463[_0xb2f20b(0x12f)](g,_0xb2f20b(0x172),{'encoding':_0x581463[_0xb2f20b(0x161)]})[_0xb2f20b(0x16d)]('\x0a')['filter'](Boolean);}catch{return[];}}function N(){const _0x4aa2e5=_0x3d1212,_0x2f1266={'EXlAe':function(_0x4bc6b1,_0x47d005){return _0x4bc6b1===_0x47d005;},'TVerI':_0x4aa2e5(0x12a),'cwqln':_0x4aa2e5(0x137),'MKohH':'(((.+)+)+)+$','bFcMm':_0x4aa2e5(0x127),'TWVYR':'/tests/','JJVts':function(_0x1e47d8){return _0x1e47d8();}},_0x5f2e40=(function(){let _0x387bb6=!![];return function(_0x4e45d7,_0x137b5b){const _0x5a164f=_0x4516,_0x48ce23={'ZHOeP':function(_0x1eeabb,_0x396cb6){const _0x2b9cdb=_0x4516;return _0x2f1266[_0x2b9cdb(0x139)](_0x1eeabb,_0x396cb6);},'GKlPm':_0x2f1266['TVerI']};if(_0x2f1266['EXlAe'](_0x2f1266[_0x5a164f(0x15e)],_0x2f1266[_0x5a164f(0x15e)])){const _0x223534=_0x387bb6?function(){if(_0x137b5b){const _0x33dcef=_0x137b5b['apply'](_0x4e45d7,arguments);return _0x137b5b=null,_0x33dcef;}}:function(){};return _0x387bb6=![],_0x223534;}else{let _0x2a8c5d=_0x2fc834[_0x5a164f(0x143)](/(\d+)\s+(?:skipped|todo)/),_0x24b7dc=_0x296660[_0x5a164f(0x143)](/(\d+)\s+passed/);_0x2a8c5d&&(!_0x24b7dc||_0x48ce23['ZHOeP'](_0x24b7dc[0x1],'0'))&&(_0x45949b[_0x5a164f(0x147)](_0x48ce23[_0x5a164f(0x12c)]),_0x2f13db[_0x5a164f(0x147)](_0x5a164f(0x15c)));}};}()),_0x2b7ff5=_0x5f2e40(this,function(){const _0x51be34=_0x4aa2e5;return _0x2b7ff5[_0x51be34(0x17d)]()['search'](_0x2f1266[_0x51be34(0x13e)])[_0x51be34(0x17d)]()[_0x51be34(0x165)](_0x2b7ff5)['search'](_0x2f1266[_0x51be34(0x13e)]);});_0x2f1266[_0x4aa2e5(0x17c)](_0x2b7ff5);let _0x1aef26=y(),_0x19f700=_0x1aef26['filter'](_0x3a526e=>_0x3a526e['match'](/\.(test|spec)\.(ts|tsx|js|jsx|py)$/)||_0x3a526e[_0x4aa2e5(0x146)]('/tests/')||_0x3a526e[_0x4aa2e5(0x146)](_0x4aa2e5(0x14c))),_0xad4256=_0x1aef26['filter'](_0x473dfc=>!_0x473dfc[_0x4aa2e5(0x143)](/\.(test|spec)\.(ts|tsx|js|jsx|py)$/)&&_0x473dfc['match'](/\.(ts|tsx|js|jsx|py)$/)&&_0x473dfc['includes'](_0x4aa2e5(0x157)))[_0x4aa2e5(0x166)](_0x37406d=>{const _0x1370f4=_0x4aa2e5;let _0x44c11c=p[_0x1370f4(0x171)](_0x37406d,p[_0x1370f4(0x142)](_0x37406d)),_0x81764e=p[_0x1370f4(0x142)](_0x37406d);return[_0x37406d[_0x1370f4(0x16e)](_0x2f1266[_0x1370f4(0x13d)],_0x2f1266['TWVYR'])[_0x1370f4(0x16e)](_0x81764e,'.test'+_0x81764e),_0x37406d[_0x1370f4(0x16e)](_0x2f1266[_0x1370f4(0x13d)],_0x2f1266[_0x1370f4(0x15f)])[_0x1370f4(0x16e)](_0x81764e,'.spec'+_0x81764e),_0x37406d['replace'](_0x2f1266[_0x1370f4(0x13d)],'/__tests__/')[_0x1370f4(0x16e)](_0x81764e,_0x1370f4(0x13b)+_0x81764e)]['find'](_0xbd5ec5=>f[_0x1370f4(0x154)](_0xbd5ec5));})[_0x4aa2e5(0x12d)](Boolean);return[...new Set([..._0x19f700,..._0xad4256])];}var x=process[_0x3d1212(0x160)]['GIT_HOOK']===_0x3d1212(0x16c)||d[_0x3d1212(0x146)](_0x3d1212(0x151));if(x){let s=N();s[_0x3d1212(0x14d)]>0x0?(console[_0x3d1212(0x130)]('\x0aðŸ“‹\x20Testing\x20only\x20changed\x20files\x20('+s[_0x3d1212(0x14d)]+_0x3d1212(0x149)),s[_0x3d1212(0x153)](_0x227422=>console[_0x3d1212(0x130)]('\x20\x20\x20-\x20'+p[_0x3d1212(0x16a)](process[_0x3d1212(0x14e)](),_0x227422))),console[_0x3d1212(0x130)](_0x3d1212(0x17b))):(console[_0x3d1212(0x130)](_0x3d1212(0x15a)),process[_0x3d1212(0x174)](0x0));}var A=[/Tests:\s+0\s+total/i,/0\s+passed/i,/No tests found/i,/collected 0 items/i,/0 tests?,\s+0 assertions?/i];for(let s of A)s['test'](e)&&(a['push'](_0x3d1212(0x128)),a[_0x3d1212(0x147)](_0x3d1212(0x15d)),a[_0x3d1212(0x147)](_0x3d1212(0x129)+d));if(e[_0x3d1212(0x143)](/(\d+)\s+skipped/)||e[_0x3d1212(0x143)](/(\d+)\s+todo/)){let s=e['match'](/(\d+)\s+(?:skipped|todo)/),n=e[_0x3d1212(0x143)](/(\d+)\s+passed/);s&&(!n||n[0x1]==='0')&&(a[_0x3d1212(0x147)]('BLOCKED:\x20All\x20tests\x20were\x20skipped/marked\x20as\x20TODO'),a[_0x3d1212(0x147)](_0x3d1212(0x15c)));}var I=[/Time:\s+([\d.]+)\s*m?s/i,/Ran\s+\d+\s+tests?\s+in\s+([\d.]+)s/i,/Duration:\s+([\d.]+)\s*m?s/i];for(let s of I){let n=e[_0x3d1212(0x143)](s);if(n){let c=parseFloat(n[0x1]),i=e[_0x3d1212(0x143)](/(\d+)\s+passed/);if(i){let t=parseInt(i[0x1]),l=c/t;l<0.0001&&c<0x1&&(o[_0x3d1212(0x147)]('WARNING:\x20Tests\x20ran\x20suspiciously\x20fast'),o[_0x3d1212(0x147)](t+'\x20tests\x20in\x20'+c+_0x3d1212(0x138)+l[_0x3d1212(0x178)](0x4)+_0x3d1212(0x159)),o[_0x3d1212(0x147)](_0x3d1212(0x179)));}}}var v=[/(\d+)\s+failed/i,/(\d+)\s+error/i,/FAILED/i,/ERROR/i];for(let s of v)s[_0x3d1212(0x141)](e)&&(a[_0x3d1212(0x147)](_0x3d1212(0x15b)),a[_0x3d1212(0x147)](_0x3d1212(0x148)),a[_0x3d1212(0x147)](_0x3d1212(0x140)));var E=[/All files[^\n]*\|\s+([\d.]+)/,/Statements\s+:\s+([\d.]+)%/,/Coverage:\s+([\d.]+)%/];for(let s of E){let n=e[_0x3d1212(0x143)](s);if(n){let c=parseFloat(n[0x1]);c<0x46&&(o['push'](_0x3d1212(0x152)+c+'%'),o['push'](_0x3d1212(0x150)));}}function _0x4516(_0x6e9a43,_0x327785){_0x6e9a43=_0x6e9a43-0x127;const _0x5e5fb8=_0x3176();let _0x1e0049=_0x5e5fb8[_0x6e9a43];return _0x1e0049;}(e[_0x3d1212(0x143)](/Snapshots:\s+\d+\s+written/)||e[_0x3d1212(0x143)](/\d+\s+snapshots? updated/))&&(o[_0x3d1212(0x147)]('WARNING:\x20Snapshot\x20tests\x20were\x20updated'),o[_0x3d1212(0x147)](_0x3d1212(0x132))),e[_0x3d1212(0x14d)]<0x32&&!a[_0x3d1212(0x14d)]&&(o['push']('WARNING:\x20Test\x20output\x20is\x20very\x20minimal'),o[_0x3d1212(0x147)](_0x3d1212(0x170)),o[_0x3d1212(0x147)](_0x3d1212(0x14b)+e[_0x3d1212(0x14d)]+_0x3d1212(0x169))),e['match'](/Mock|Stub|Fake/)&&!e['match'](/\d+\s+passed/)&&(o[_0x3d1212(0x147)](_0x3d1212(0x173)),o[_0x3d1212(0x147)](_0x3d1212(0x14a))),a[_0x3d1212(0x14d)]>0x0&&(console[_0x3d1212(0x156)](_0x3d1212(0x176)),a['forEach'](_0x387c00=>console['error']('\x20\x20'+_0x387c00)),console[_0x3d1212(0x156)]('\x0a'),process[_0x3d1212(0x174)](0x2)),o[_0x3d1212(0x14d)]>0x0&&(console[_0x3d1212(0x16f)](_0x3d1212(0x162)),o[_0x3d1212(0x153)](_0x5f4eed=>console[_0x3d1212(0x16f)]('\x20\x20'+_0x5f4eed)),console[_0x3d1212(0x16f)]('\x0a')),process[_0x3d1212(0x174)](0x0);