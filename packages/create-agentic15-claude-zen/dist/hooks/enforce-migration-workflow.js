#!/usr/bin/env node
var _0x825c7a=_0x1002;(function(_0x410e9d,_0x162c56){var _0x37c5b1=_0x1002,_0x302c3f=_0x410e9d();while(!![]){try{var _0x9810c9=-parseInt(_0x37c5b1(0x1c4))/0x1+-parseInt(_0x37c5b1(0x196))/0x2+-parseInt(_0x37c5b1(0x191))/0x3*(parseInt(_0x37c5b1(0x1b4))/0x4)+parseInt(_0x37c5b1(0x187))/0x5+parseInt(_0x37c5b1(0x1b8))/0x6+-parseInt(_0x37c5b1(0x1a5))/0x7*(parseInt(_0x37c5b1(0x197))/0x8)+parseInt(_0x37c5b1(0x1b0))/0x9;if(_0x9810c9===_0x162c56)break;else _0x302c3f['push'](_0x302c3f['shift']());}catch(_0x5b288f){_0x302c3f['push'](_0x302c3f['shift']());}}}(_0x1c48,0xaf163));var _0x42004e=(function(){var _0x5e6d88=_0x1002,_0x1cf31e={};_0x1cf31e[_0x5e6d88(0x188)]=_0x5e6d88(0x1ae),_0x1cf31e['VRjiB']=function(_0x20b3c1,_0x6e2a6){return _0x20b3c1!==_0x6e2a6;},_0x1cf31e['GkwNp']=_0x5e6d88(0x1b2),_0x1cf31e[_0x5e6d88(0x19c)]=_0x5e6d88(0x1a7);var _0x1ac1a4=_0x1cf31e,_0x688728=!![];return function(_0x2459e7,_0x4bfa75){var _0x12ecbc=_0x688728?function(){var _0x5dfb39=_0x1002,_0x2b39ed={};_0x2b39ed['OhEdS']=_0x1ac1a4[_0x5dfb39(0x188)];var _0xd76bb4=_0x2b39ed;if(_0x4bfa75){if(_0x1ac1a4[_0x5dfb39(0x1a0)](_0x1ac1a4[_0x5dfb39(0x1a3)],_0x1ac1a4[_0x5dfb39(0x19c)])){var _0x3abdd2=_0x4bfa75[_0x5dfb39(0x1c3)](_0x2459e7,arguments);return _0x4bfa75=null,_0x3abdd2;}else return _0x4fb475[_0x5dfb39(0x194)]()[_0x5dfb39(0x1ab)](_0x5dfb39(0x1ae))[_0x5dfb39(0x194)]()[_0x5dfb39(0x1a6)](_0x1ebcf4)[_0x5dfb39(0x1ab)](_0xd76bb4[_0x5dfb39(0x1bc)]);}}:function(){};return _0x688728=![],_0x12ecbc;};}()),_0x1db89d=_0x42004e(this,function(){var _0x370c1f=_0x1002,_0x43b615={};_0x43b615[_0x370c1f(0x18d)]=_0x370c1f(0x1ae);var _0x5d40bb=_0x43b615;return _0x1db89d[_0x370c1f(0x194)]()[_0x370c1f(0x1ab)](_0x5d40bb[_0x370c1f(0x18d)])[_0x370c1f(0x194)]()['constructor'](_0x1db89d)[_0x370c1f(0x1ab)](_0x5d40bb['IgplT']);});_0x1db89d();var e=(_0x288fbe=>typeof require<'u'?require:typeof Proxy<'u'?new Proxy(_0x288fbe,{'get':(_0x77423e,_0x2cd760)=>(typeof require<'u'?require:_0x77423e)[_0x2cd760]}):_0x288fbe)(function(_0x1d14ed){var _0x39f79b=_0x1002,_0x3c0e23={'Zoowu':function(_0x26e56a,_0x20e5c1){return _0x26e56a<_0x20e5c1;},'aBWZy':function(_0xdd5d1c,_0x1a69c1){return _0xdd5d1c(_0x1a69c1);},'vODKC':function(_0x364674,_0x8cbb8a){return _0x364674+_0x8cbb8a;},'pRuNp':function(_0x1464b1,_0x5047e8){return _0x1464b1+_0x5047e8;},'Gzjgy':'Dynamic\x20require\x20of\x20\x22','yolnp':_0x39f79b(0x1bf)};if(_0x3c0e23[_0x39f79b(0x1ba)](typeof require,'u'))return require[_0x39f79b(0x1c3)](this,arguments);throw _0x3c0e23[_0x39f79b(0x1a9)](Error,_0x3c0e23[_0x39f79b(0x198)](_0x3c0e23['pRuNp'](_0x3c0e23[_0x39f79b(0x18f)],_0x1d14ed),_0x3c0e23[_0x39f79b(0x1a2)]));}),p=e('fs'),h=e('path'),{execSync:l}=e(_0x825c7a(0x19f)),u=process['argv'][0x2]||'{}',s=JSON[_0x825c7a(0x1b3)](u),i=s[_0x825c7a(0x189)]?.[_0x825c7a(0x1b1)]||'';i[_0x825c7a(0x186)](/migrate|migration/i)||process[_0x825c7a(0x18a)](0x0);var n=[],t=[],a=s[_0x825c7a(0x190)]||'';console[_0x825c7a(0x1b7)](_0x825c7a(0x1c1));try{let o=process[_0x825c7a(0x1c0)][_0x825c7a(0x1aa)]||_0x825c7a(0x1b6);console[_0x825c7a(0x1b7)](_0x825c7a(0x199)+o),o===_0x825c7a(0x18e)&&(n[_0x825c7a(0x1c5)](_0x825c7a(0x1a4)),n[_0x825c7a(0x1c5)](_0x825c7a(0x195)),n['push'](_0x825c7a(0x192)));}catch{}try{var _0x2b082a={};_0x2b082a[_0x825c7a(0x193)]=_0x825c7a(0x1af),l('git\x20status\x20--short',_0x2b082a)[_0x825c7a(0x186)](/migrations?\//)&&(t[_0x825c7a(0x1c5)](_0x825c7a(0x1c6)),t[_0x825c7a(0x1c5)]('Commit\x20migrations\x20to\x20version\x20control\x20before\x20running\x20them'));}catch{}var g=[/error/i,/failed/i,/exception/i,/syntax error/i,/constraint/i];function _0x1002(_0x4ebf61,_0x5d8b50){_0x4ebf61=_0x4ebf61-0x186;var _0x381387=_0x1c48();var _0x1db89d=_0x381387[_0x4ebf61];return _0x1db89d;}for(let o of g)if(o[_0x825c7a(0x19d)](a)){n[_0x825c7a(0x1c5)](_0x825c7a(0x19a)),n['push'](_0x825c7a(0x1bd)),n['push'](_0x825c7a(0x1b9));break;}function _0x1c48(){var _0xb5ea73=['279918SprOoE','919440HqxrVR','vODKC','\x20\x20Environment:\x20','BLOCKED:\x20Migration\x20execution\x20failed','\x20\x20\x20\x20\x201.\x20Run:\x20npm\x20test','YMKti','test','error','child_process','VRjiB','\x0aâš ï¸\x20\x20MIGRATION\x20WORKFLOW\x20WARNINGS\x0a','yolnp','GkwNp','BLOCKED:\x20Cannot\x20run\x20migrations\x20directly\x20in\x20production','70YraRok','constructor','tZWiQ','warn','aBWZy','NODE_ENV','search','\x20\x20\x20\x20\x202.\x20Verify\x20all\x20tests\x20pass\x20with\x20new\x20schema','Manual\x20intervention\x20required','(((.+)+)+)+$','utf8','29451465CNVhQX','command','nJGWn','parse','12VPUkkN','length','development','log','2406432jSltZR','Check\x20database\x20logs\x20for\x20details','Zoowu','\x20\x20\x20\x20\x204.\x20Test\x20rollback:\x20npm\x20run\x20migrate:down\x20(or\x20equivalent)\x0a','OhEdS','Fix\x20migration\x20errors\x20before\x20proceeding','\x20\x20âœ…\x20Migration\x20rollback\x20successful\x0a','\x22\x20is\x20not\x20supported','env','\x0aðŸ”„\x20MIGRATION\x20WORKFLOW\x20VALIDATION\x0a','Database\x20may\x20be\x20in\x20inconsistent\x20state','apply','1192570iEHenX','push','Uncommitted\x20migration\x20files\x20detected','match','1634780BVHGZl','RsKjQ','tool_input','exit','\x20\x20âš ï¸\x20\x20After\x20running\x20migrations,\x20you\x20MUST:\x0a','\x0aâŒ\x20MIGRATION\x20WORKFLOW\x20FAILED\x0a','IgplT','production','Gzjgy','tool_output','801429umuTSg','Use\x20deployment\x20pipeline\x20to\x20run\x20production\x20migrations','encoding','toString','Migrations\x20must\x20be\x20tested\x20in\x20development/staging\x20first'];_0x1c48=function(){return _0xb5ea73;};return _0x1c48();}i['match'](/migrate.*up|migration.*run/i)&&(console['log'](_0x825c7a(0x18b)),console[_0x825c7a(0x1b7)](_0x825c7a(0x19b)),console['log'](_0x825c7a(0x1ac)),console[_0x825c7a(0x1b7)]('\x20\x20\x20\x20\x203.\x20Check\x20for\x20type\x20errors:\x20npm\x20run\x20build'),console['log'](_0x825c7a(0x1bb)),t[_0x825c7a(0x1c5)]('After\x20migration,\x20run\x20npm\x20test\x20to\x20verify\x20schema\x20compatibility')),i[_0x825c7a(0x186)](/migrate.*down|migration.*rollback/i)&&(console[_0x825c7a(0x1b7)]('\x20\x20ðŸ”™\x20Rolling\x20back\x20migration...\x0a'),a['match'](/error|failed/i)?(n[_0x825c7a(0x1c5)]('BLOCKED:\x20Migration\x20rollback\x20failed'),n[_0x825c7a(0x1c5)](_0x825c7a(0x1c2)),n[_0x825c7a(0x1c5)](_0x825c7a(0x1ad))):console[_0x825c7a(0x1b7)](_0x825c7a(0x1be))),n[_0x825c7a(0x1b5)]>0x0&&(console['error'](_0x825c7a(0x18c)),n['forEach'](_0x4eb697=>console[_0x825c7a(0x19e)]('\x20\x20'+_0x4eb697)),console[_0x825c7a(0x19e)]('\x0a'),process[_0x825c7a(0x18a)](0x2)),t['length']>0x0&&(console[_0x825c7a(0x1a8)](_0x825c7a(0x1a1)),t['forEach'](_0x159e87=>console[_0x825c7a(0x1a8)]('\x20\x20'+_0x159e87)),console[_0x825c7a(0x1a8)]('\x0a')),process[_0x825c7a(0x18a)](0x0);