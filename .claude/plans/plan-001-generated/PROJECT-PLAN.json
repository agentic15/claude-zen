{
  "version": "2.0",
  "project": {
    "id": "PROJ-002",
    "name": "Auto UI Verification for Claude",
    "description": "Auto-run screenshots and console logs when UI tasks complete, so Claude can SEE and verify the UI works",
    "status": "planning",
    "createdAt": "2026-01-03T00:00:00.000Z",
    "createdBy": "Claude",
    "locked": false,
    "subprojects": [
      {
        "id": "SUB-001",
        "name": "Simple UI Task Detection",
        "description": "Detect UI tasks using task metadata (uiTestRequired flag)",
        "status": "pending",
        "dependencies": [],
        "milestones": [
          {
            "id": "MILE-001",
            "name": "UI Detection",
            "description": "Simple detection based on task metadata",
            "status": "pending",
            "dependencies": [],
            "tasks": [
              {
                "id": "TASK-001",
                "title": "Update plan generation to include UI verification in all tasks",
                "description": "Modify PlanCommand.js so every generated task includes UI verification checkpoint in completion criteria",
                "status": "pending",
                "phase": "implementation",
                "dependencies": [],
                "estimatedHours": 2,
                "completionCriteria": [
                  "PlanCommand.js updated to include UI verification instruction",
                  "Every future task will have: 'UI Verification: If you modified UI code, run visual-test and verify'",
                  "No hardcoded URLs or ports in the instruction",
                  "UI Verification: If you modified UI code (.jsx, .tsx, .vue, .css, .html), run 'npx agentic15 visual-test <url>' and verify screenshots/logs show no errors"
                ],
                "artifacts": {
                  "design": [],
                  "code": ["Agent/src/cli/PlanCommand.js"],
                  "tests": [],
                  "documentation": []
                }
              },
              {
                "id": "TASK-002",
                "title": "Implement simple UI task detector",
                "description": "Create UITaskDetector that checks uiTestRequired flag",
                "status": "pending",
                "phase": "implementation",
                "dependencies": ["TASK-001"],
                "estimatedHours": 3,
                "completionCriteria": [
                  "UITaskDetector.isUITask(task) checks uiTestRequired flag",
                  "Returns uiUrl if provided",
                  "5 focused tests written (metadata check, URL extraction, null handling)"
                ],
                "testCases": [
                  "Returns true when uiTestRequired is true",
                  "Returns false when uiTestRequired is false/undefined",
                  "Extracts uiUrl when provided",
                  "Returns null URL when not provided",
                  "Handles null/undefined task gracefully"
                ],
                "artifacts": {
                  "design": [],
                  "code": ["Agent/src/core/UITaskDetector.js"],
                  "tests": ["Agent/test/ui-detection/detector.test.js"],
                  "documentation": []
                }
              }
            ]
          }
        ]
      },
      {
        "id": "SUB-002",
        "name": "Auto Visual Verification",
        "description": "Auto-run VisualTestCommand when UI tasks complete",
        "status": "pending",
        "dependencies": ["SUB-001"],
        "milestones": [
          {
            "id": "MILE-002",
            "name": "Hook Integration",
            "description": "Integrate visual test into task completion hook",
            "status": "pending",
            "dependencies": ["MILE-001"],
            "tasks": [
              {
                "id": "TASK-003",
                "title": "Enhance complete-task hook with UI detection",
                "description": "Check if task is UI task and auto-run visual test",
                "status": "pending",
                "phase": "implementation",
                "dependencies": ["TASK-002"],
                "estimatedHours": 4,
                "completionCriteria": [
                  "Hook checks task.uiTestRequired before committing",
                  "Runs VisualTestCommand if uiTestRequired is true",
                  "Uses task.uiUrl or prompts user for URL",
                  "Displays screenshot/log paths to user",
                  "8 focused tests (hook triggers, URL handling, error cases)"
                ],
                "testCases": [
                  "Hook runs visual test when uiTestRequired is true",
                  "Hook skips visual test when uiTestRequired is false",
                  "Uses task.uiUrl when provided",
                  "Prompts for URL when not provided",
                  "Displays file paths after capture",
                  "Handles unreachable URL gracefully",
                  "Handles visual test command failure",
                  "User can skip with --skip-ui flag"
                ],
                "artifacts": {
                  "design": [],
                  "code": ["Agent/framework/hooks/complete-task.js"],
                  "tests": ["Agent/test/hooks/ui-verification.test.js"],
                  "documentation": []
                }
              },
              {
                "id": "TASK-004",
                "title": "Add Claude-friendly result presentation",
                "description": "Format visual test results so Claude can easily analyze them",
                "status": "pending",
                "phase": "implementation",
                "dependencies": ["TASK-003"],
                "estimatedHours": 2,
                "completionCriteria": [
                  "Terminal output shows absolute file paths",
                  "Suggests next step: Ask Claude to review files",
                  "Clear success/failure indicators"
                ],
                "artifacts": {
                  "design": [],
                  "code": ["Agent/framework/hooks/complete-task.js"],
                  "tests": [],
                  "documentation": []
                }
              }
            ]
          }
        ]
      },
      {
        "id": "SUB-003",
        "name": "Enhanced VisualTestCommand",
        "description": "Improve existing visual test to capture more useful data",
        "status": "pending",
        "dependencies": [],
        "milestones": [
          {
            "id": "MILE-003",
            "name": "Better Diagnostics",
            "description": "Capture more data to help Claude diagnose issues",
            "status": "pending",
            "dependencies": [],
            "tasks": [
              {
                "id": "TASK-005",
                "title": "Add network request logging",
                "description": "Capture failed network requests (404, 500, etc.)",
                "status": "pending",
                "phase": "implementation",
                "dependencies": [],
                "estimatedHours": 3,
                "completionCriteria": [
                  "Captures HTTP errors (4xx, 5xx)",
                  "Logs failed requests to network-errors.log",
                  "Includes request URL, method, status code"
                ],
                "artifacts": {
                  "design": [],
                  "code": ["Agent/src/cli/VisualTestCommand.js"],
                  "tests": [],
                  "documentation": []
                }
              },
              {
                "id": "TASK-006",
                "title": "Add accessibility violations check",
                "description": "Run basic a11y checks and report violations",
                "status": "pending",
                "phase": "implementation",
                "dependencies": [],
                "estimatedHours": 3,
                "completionCriteria": [
                  "Integrates axe-core for a11y testing",
                  "Logs violations to accessibility.log",
                  "Reports critical violations in terminal"
                ],
                "artifacts": {
                  "design": [],
                  "code": ["Agent/src/cli/VisualTestCommand.js"],
                  "tests": [],
                  "documentation": []
                }
              }
            ]
          }
        ]
      },
      {
        "id": "SUB-004",
        "name": "Plan Generation Fix",
        "description": "Fix plan generation to emphasize lean testing",
        "status": "pending",
        "dependencies": [],
        "milestones": [
          {
            "id": "MILE-004",
            "name": "Lean Testing Instructions",
            "description": "Update plan generation to create lean plans",
            "status": "pending",
            "dependencies": [],
            "tasks": [
              {
                "id": "TASK-007",
                "title": "Update plan generation instructions",
                "description": "Add lean testing philosophy to PlanCommand",
                "status": "pending",
                "phase": "implementation",
                "dependencies": [],
                "estimatedHours": 2,
                "completionCriteria": [
                  "PlanCommand.js includes testing philosophy",
                  "Emphasizes 5-10 tests per task",
                  "Explains UI visual verification approach",
                  "Provides good/bad examples"
                ],
                "artifacts": {
                  "design": [],
                  "code": ["Agent/src/cli/PlanCommand.js"],
                  "tests": [],
                  "documentation": []
                }
              },
              {
                "id": "TASK-008",
                "title": "Document lean testing approach",
                "description": "Create guide explaining the lean testing philosophy",
                "status": "pending",
                "phase": "documentation",
                "dependencies": ["TASK-007"],
                "estimatedHours": 2,
                "completionCriteria": [
                  "Explains necessity vs luxury testing",
                  "Provides UI testing examples",
                  "Documents when to use visual verification",
                  "Includes anti-patterns to avoid"
                ],
                "artifacts": {
                  "design": [],
                  "code": [],
                  "tests": [],
                  "documentation": ["Agent/docs/lean-testing-philosophy.md"]
                }
              }
            ]
          }
        ]
      },
      {
        "id": "SUB-005",
        "name": "End-to-End Validation",
        "description": "Test the complete workflow works",
        "status": "pending",
        "dependencies": ["SUB-002", "SUB-003", "SUB-004"],
        "milestones": [
          {
            "id": "MILE-005",
            "name": "E2E Test",
            "description": "Validate full UI verification workflow",
            "status": "pending",
            "dependencies": ["MILE-002", "MILE-003", "MILE-004"],
            "tasks": [
              {
                "id": "TASK-009",
                "title": "Create sample UI task for testing",
                "description": "Build a simple HTML page to test the workflow",
                "status": "pending",
                "phase": "testing",
                "dependencies": ["TASK-004", "TASK-006"],
                "estimatedHours": 3,
                "completionCriteria": [
                  "Simple HTML page created (form, button, display)",
                  "Serves on localhost:3000",
                  "Has intentional issues (console error, a11y violation)",
                  "Task created with uiTestRequired: true"
                ],
                "artifacts": {
                  "design": [],
                  "code": [
                    "examples/test-ui/index.html",
                    "examples/test-ui/server.js"
                  ],
                  "tests": [],
                  "documentation": []
                }
              },
              {
                "id": "TASK-010",
                "title": "Validate complete workflow",
                "description": "Run through complete task workflow with UI verification",
                "status": "pending",
                "phase": "testing",
                "dependencies": ["TASK-009"],
                "estimatedHours": 2,
                "completionCriteria": [
                  "Task starts successfully",
                  "Visual test runs automatically on completion",
                  "Screenshots captured and displayed",
                  "Console errors logged",
                  "Network errors logged",
                  "A11y violations reported",
                  "Claude can analyze results and fix issues"
                ],
                "artifacts": {
                  "design": [],
                  "code": [],
                  "tests": [],
                  "documentation": ["examples/test-ui/VALIDATION-REPORT.md"]
                }
              }
            ]
          }
        ]
      }
    ]
  }
}
