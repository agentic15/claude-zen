{
  "version": "2.0",
  "project": {
    "id": "PROJ-001",
    "name": "E-commerce Platform",
    "description": "Full-featured online store with payment processing",
    "status": "planning",
    "createdAt": "2025-12-18T00:00:00.000Z",
    "createdBy": "human",
    "locked": false,
    "subprojects": [
      {
        "id": "SUB-001",
        "name": "User Management System",
        "description": "Authentication, authorization, and user profiles",
        "status": "pending",
        "dependencies": [],
        "milestones": [
          {
            "id": "MILE-001",
            "name": "Core Authentication",
            "description": "Basic login/logout functionality",
            "status": "pending",
            "dependencies": [],
            "tasks": [
              {
                "id": "TASK-001",
                "title": "Design user database schema",
                "description": "Create ERD for users, roles, sessions",
                "status": "pending",
                "phase": "design",
                "dependencies": [],
                "estimatedHours": 4,
                "completionCriteria": [
                  "ERD diagram completed",
                  "Schema reviewed by team",
                  "Migration scripts ready"
                ],
                "artifacts": {
                  "design": ["./Agent/db/schema/users.sql"],
                  "code": [],
                  "tests": [],
                  "documentation": ["./docs/database-design.md"]
                }
              },
              {
                "id": "TASK-002",
                "title": "Write tests for user registration API (TDD)",
                "description": "Write comprehensive tests BEFORE implementing registration endpoint",
                "status": "pending",
                "phase": "testing",
                "dependencies": ["TASK-001"],
                "estimatedHours": 3,
                "completionCriteria": [
                  "Test suite for POST /api/auth/register created",
                  "Tests verify email validation",
                  "Tests verify password strength requirements",
                  "Tests verify duplicate email rejection",
                  "Tests verify JWT token generation",
                  "Tests cover error responses and edge cases"
                ],
                "testCases": [
                  "Valid registration succeeds with 201 status",
                  "Invalid email format returns 400 error",
                  "Weak password returns 400 error",
                  "Duplicate email returns 409 conflict",
                  "Missing required fields returns 400",
                  "Successful registration returns JWT token"
                ],
                "artifacts": {
                  "design": [],
                  "code": [],
                  "tests": [
                    "./Agent/tests/auth/registration.test.js",
                    "./Agent/tests/integration/auth-api.test.js"
                  ],
                  "documentation": []
                }
              },
              {
                "id": "TASK-003",
                "title": "Implement user registration API",
                "description": "POST /api/auth/register endpoint - implement to make tests pass",
                "status": "pending",
                "phase": "implementation",
                "dependencies": ["TASK-002"],
                "estimatedHours": 6,
                "completionCriteria": [
                  "All tests from TASK-002 pass",
                  "Email validation implemented",
                  "Password hashing with bcrypt",
                  "Duplicate email check",
                  "Returns JWT token",
                  "Error handling matches test expectations"
                ],
                "artifacts": {
                  "design": [],
                  "code": [
                    "./Agent/src/controllers/authController.js",
                    "./Agent/src/services/userService.js",
                    "./Agent/src/validators/authValidator.js"
                  ],
                  "tests": [],
                  "documentation": []
                }
              }
            ]
          },
          {
            "id": "MILE-002",
            "name": "User Profile Management",
            "description": "Profile viewing and editing",
            "status": "pending",
            "dependencies": ["MILE-001"],
            "tasks": [
              {
                "id": "TASK-004",
                "title": "Write tests for profile update API (TDD)",
                "description": "Write tests BEFORE implementing PATCH /api/users/:id endpoint",
                "status": "pending",
                "phase": "testing",
                "dependencies": ["TASK-003"],
                "estimatedHours": 2,
                "completionCriteria": [
                  "Test suite for profile update created",
                  "Tests verify name/email/avatar updates",
                  "Tests verify email uniqueness validation",
                  "Tests verify authorization (users can only update own profile)",
                  "Tests verify unauthorized access is blocked"
                ],
                "testCases": [
                  "Authorized user can update own profile",
                  "Unauthorized user cannot update other profiles",
                  "Duplicate email is rejected",
                  "Valid updates succeed",
                  "Invalid data returns errors"
                ],
                "artifacts": {
                  "code": [],
                  "tests": ["./Agent/tests/userProfile.test.js"]
                }
              },
              {
                "id": "TASK-005-impl",
                "title": "Implement profile update API",
                "description": "PATCH /api/users/:id endpoint - implement to make tests pass",
                "status": "pending",
                "phase": "implementation",
                "dependencies": ["TASK-004"],
                "estimatedHours": 5,
                "completionCriteria": [
                  "All tests from TASK-004 pass",
                  "Can update name, email, avatar",
                  "Email uniqueness validated",
                  "Authorization checked"
                ],
                "artifacts": {
                  "code": ["./Agent/src/controllers/userController.js"],
                  "tests": []
                }
              }
            ]
          }
        ]
      },
      {
        "id": "SUB-002",
        "name": "Product Catalog System",
        "description": "Product listings, search, and categories",
        "status": "pending",
        "dependencies": [],
        "milestones": [
          {
            "id": "MILE-003",
            "name": "Basic Product CRUD",
            "description": "Create, read, update, delete products",
            "status": "pending",
            "dependencies": [],
            "tasks": [
              {
                "id": "TASK-006",
                "title": "Design product database schema",
                "description": "Tables for products, categories, images",
                "status": "pending",
                "phase": "design",
                "dependencies": [],
                "estimatedHours": 3,
                "completionCriteria": [
                  "Schema supports multiple categories",
                  "Image URLs stored properly",
                  "Price and inventory tracked"
                ],
                "artifacts": {
                  "design": ["./Agent/db/schema/products.sql"]
                }
              },
              {
                "id": "TASK-007",
                "title": "Write tests for product listing API (TDD)",
                "description": "Write tests BEFORE implementing GET /api/products endpoint",
                "status": "pending",
                "phase": "testing",
                "dependencies": ["TASK-006"],
                "estimatedHours": 2,
                "completionCriteria": [
                  "Test suite for product listing created",
                  "Tests verify pagination (limit/offset)",
                  "Tests verify category filtering",
                  "Tests verify sorting (price, name, date)",
                  "Tests verify empty results handling"
                ],
                "testCases": [
                  "GET /api/products returns paginated results",
                  "Filtering by category works correctly",
                  "Sorting by price/name/date works",
                  "Invalid pagination parameters return errors",
                  "Empty product list returns empty array"
                ],
                "artifacts": {
                  "code": [],
                  "tests": ["./Agent/tests/products.test.js"]
                }
              },
              {
                "id": "TASK-008",
                "title": "Implement product listing API",
                "description": "GET /api/products with pagination - implement to make tests pass",
                "status": "pending",
                "phase": "implementation",
                "dependencies": ["TASK-007"],
                "estimatedHours": 4,
                "completionCriteria": [
                  "All tests from TASK-007 pass",
                  "Pagination works (limit/offset)",
                  "Filtering by category",
                  "Sorting by price, name, date"
                ],
                "artifacts": {
                  "code": ["./Agent/src/controllers/productController.js"],
                  "tests": []
                }
              }
            ]
          }
        ]
      },
      {
        "id": "SUB-003",
        "name": "Shopping Cart & Checkout",
        "description": "Cart management and order processing",
        "status": "pending",
        "dependencies": ["SUB-001", "SUB-002"],
        "milestones": [
          {
            "id": "MILE-004",
            "name": "Shopping Cart",
            "description": "Add/remove/update cart items",
            "status": "pending",
            "dependencies": ["MILE-001", "MILE-003"],
            "tasks": [
              {
                "id": "TASK-009",
                "title": "Write tests for cart management (TDD)",
                "description": "Write tests BEFORE implementing cart functionality",
                "status": "pending",
                "phase": "testing",
                "dependencies": ["TASK-002", "TASK-008"],
                "estimatedHours": 3,
                "completionCriteria": [
                  "Test suite for cart operations created",
                  "Tests verify adding items to cart",
                  "Tests verify updating quantities",
                  "Tests verify calculating totals",
                  "Tests verify cart persistence for logged-in users",
                  "Tests verify session-based cart for guests"
                ],
                "testCases": [
                  "Guest can add items to session cart",
                  "Logged-in user cart persists to database",
                  "Updating quantity recalculates total",
                  "Removing item updates cart",
                  "Empty cart returns zero total",
                  "Invalid product ID returns error"
                ],
                "artifacts": {
                  "code": [],
                  "tests": ["./Agent/tests/cart.test.js"]
                }
              },
              {
                "id": "TASK-010",
                "title": "Implement cart management",
                "description": "Session-based cart for guests, DB for users - implement to make tests pass",
                "status": "pending",
                "phase": "implementation",
                "dependencies": ["TASK-009"],
                "estimatedHours": 8,
                "completionCriteria": [
                  "All tests from TASK-009 pass",
                  "Add items to cart",
                  "Update quantities",
                  "Calculate totals",
                  "Persist cart for logged-in users"
                ],
                "artifacts": {
                  "code": [
                    "./Agent/src/services/cartService.js",
                    "./Agent/src/controllers/cartController.js"
                  ],
                  "tests": []
                }
              }
            ]
          }
        ]
      }
    ]
  }
}
